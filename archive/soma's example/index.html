<!DOCTYPE html>
<html>
    <head>
        <style>
            body {
                font-family: Arial, Helvetica, sans-serif;
                font-size: 16px;
            }
            h1 {
                margin-top: 3em;
                background: #8087ff;
                color: white;
                display: inline-block;
                padding: 5px 10px;
            }
            h3 {
                margin-top: 2em;
            }
            code {
                background: #fff880;
            }

            #container {
                max-width: 700px;
                margin: 0 auto;
            }

            svg {
                margin: 0 auto;
                display: block;
            }

            .controller {
                background: #f1f1f1;
                padding: 30px;
                text-align: center;
                font-size: 21px;
            }

        </style>
    </head>
    <body>
        <div id="container">
            <p>Data (mostly) sourced from <a href="https://simplemaps.com/data/world-cities">World Cities Database</a></p>

            <div class="controller">
                <form>
                    <strong>Number of cities</strong>            
                    <input size=10 id="pointCount" name="pointCount">
                    <input type="submit" value="Change number of points">
                </form>
                <p>Try it:
                    <a href="?pointCount=100">100</a>
                    <a href="?pointCount=500">500</a>
                    <a href="?pointCount=1000">1000</a>
                    <a href="?pointCount=5000">5000</a>
                    <a href="?pointCount=25000">25000</a>
                    <a href="?pointCount=40000">40000</a>
                </p>
            </div>

            <h1>WebGL</h1>
            <p>This version uses WebGL, which allows <code>&lt;canvas&gt;</code> to support hardware acceleration. It should be able to support more cities more smoothly than canvas.</p>
            <p>This example uses <a href="https://pixijs.com/">PIXI.js</a> as its foundation. You'll also see plenty of other libraries in the WebGL space, such as <a href="https://threejs.org/">THREE.js</a>.</p>
            <p>Conceptually, PIXI.js is more similar to SVG than to canvas. You create an object, change its x and y position, hide/show, etc, and it's reflected on the screen. Unlike SVG, though, each circle or continent isn't an actual tag on the page. Instead, PIXI.js is doing the hard work of figuring out how to draw everything. It basically takes care of the large amounts of code from the <code>draw</code> function in the canvas example.</p>
            <p>It's easier to use than the canvas version since you don't have to draw each element manually, but the downside is that it uses an additional library.</p>
            
            <button id="to-distributed">Move to not a circle</button>
            <button id="to-circle">Move to a circle</button>
            <button id="to-small-circle">Move to a small circle</button>

            <div id="webgl-viz"></div>

        </div>

        <!-- uncomment this next line if you want nice-looking canvas -->
        <!-- <script src="libs/hidpi-canvas.js"></script> -->
        <script src="libs/d3.v7.min.js"></script>
        <script src="libs/topojson.min.js"></script>
        <script src="libs/d3-geo-projection.js"></script>
        <script src="libs/pixi.js"></script>
        <script src="libs/gsap.min.js"></script>

        <script src="03-transition-map-pixi.js"></script>
    </body>
</html>
